(window.webpackJsonp=window.webpackJsonp||[]).push([["AdminDetail"],{1169:function(t,e,n){var r=n("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"1c4c":function(t,e,n){"use strict";var r=n("9b43"),i=n("5ca1"),o=n("4bf8"),a=n("1fa8"),s=n("33a4"),c=n("9def"),u=n("f1ae"),f=n("27ee");i(i.S+i.F*!n("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,l,d=o(t),p="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,b=void 0!==v,h=0,y=f(d);if(b&&(v=r(v,m>2?arguments[2]:void 0,2)),null==y||p==Array&&s(y))for(n=new p(e=c(d.length));e>h;h++)u(n,h,b?v(d[h],h):d[h]);else for(l=y.call(d),n=new p;!(i=l.next()).done;h++)u(n,h,b?a(l,v,[i.value,h],!0):i.value);return n.length=h,n}})},"37c8":function(t,e,n){e.f=n("2b4c")},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"3a72":function(t,e,n){var r=n("7726"),i=n("8378"),o=n("2d00"),a=n("37c8"),s=n("86cc").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},4411:function(t,e,n){"use strict";n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("6762"),n("2fdb");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n("ac6a"),n("456d");function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a={name:"EditPermission",props:{editable:{type:Boolean,default:!1},allSelected:Boolean,permissions:Array},data:function(){return{per:[],modules:{user:"用户",goods:"商品",order:"订单",comment:"留言",guide:"指引",admin:"管理员"},actions:["read","write","create","delete"]}},watch:{permissions:{handler:function(t){t?this.setPermissions():this.initValues()},immediate:!0},allSelected:function(t){this.setAllCheckboxStatus(t)}},methods:{initValues:function(){var t=this,e=[{read:!1},{write:!1},{create:!1},{delete:!1}];this.per=Object.keys(this.modules).map(function(n){return{module:n,purview:t.$cloneDeepWith(e)}})},setPermissions:function(){var t=this,e=this.$cloneDeepWith(this.permissions);this.per=Object.keys(this.modules).map(function(n){var o,a=i(e);try{var s=function(){var e=o.value;if(e.module===n)return{v:{module:n,purview:t.actions.map(function(t){var n={};return n["".concat(t)]=e.purview.includes(t),n})}}};for(a.s();!(o=a.n()).done;){var c=s();if("object"===r(c))return c.v}}catch(t){a.e(t)}finally{a.f()}return{module:n,purview:[{read:!1},{write:!1},{create:!1},{delete:!1}]}})},setAllCheckboxStatus:function(t){var e=this;this.per.forEach(function(n){n.purview.forEach(function(n,r){n[e.actions[r]]=t})})},getPermissions:function(){var t=this;return this.per.map(function(e){return{module:e.module,purview:e.purview.filter(function(e,n){return e[t.actions[n]]}).map(function(t){return Object.keys(t)[0]})}})}}},s=(n("9e95"),n("2877")),c=Object(s.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.per?n("table",{staticClass:"permission"},[t._m(0),t._l(t.per,function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(t.modules[e.module]))]),t._l(e.purview,function(e,r){return n("td",{key:r},[n("vs-checkbox",{class:{"pointer-events-none":!t.editable},attrs:{disabled:!t.editable},model:{value:e[t.actions[r]],callback:function(n){t.$set(e,t.actions[r],n)},expression:"td[actions[j]]"}})],1)})],2)})],2):t._e()])},[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Module")]),e("th",[this._v("Read")]),e("th",[this._v("Write")]),e("th",[this._v("Create")]),e("th",[this._v("Delete")])])}],!1,null,"19adfc7a",null);e.a=c.exports},6003:function(t,e,n){"use strict";var r=n("66ba");n.n(r).a},"66ba":function(t,e,n){},"67ab":function(t,e,n){var r=n("ca5a")("meta"),i=n("d3f4"),o=n("69a8"),a=n("86cc").f,s=0,c=Object.isExtensible||function(){return!0},u=!n("79e5")(function(){return c(Object.preventExtensions({}))}),f=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return u&&l.NEED&&c(t)&&!o(t,r)&&f(t),t}}},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),i=n("0bfb"),o=n("9e1e"),a=/./.toString,s=function(t){n("2aba")(RegExp.prototype,"toString",t,!0)};n("79e5")(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},"76bb":function(t,e,n){"use strict";n.r(e);n("96cf");var r=n("1da1"),i=n("4411"),o=n("518e"),a={name:"AdminDetail",components:{EditPermission:i.a},data:function(){return{detail:{}}},mounted:function(){this.getAdminDetail(this.$route.query.adminId||this.$store.getters["admin/adminId"])},methods:{getAdminDetail:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.d)({admin_id:e});case 2:n=t.sent,r=n.code,i=n.data,2e3===r&&(this.detail=i.admin_detail);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),editAdmin:function(){this.$router.push({path:"/admin-edit",query:{adminId:this.detail._id}})}}},s=(n("6003"),n("2877")),c=Object(s.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"info mb-6 p-5 light-shadow bg-semi rounded-lg"},[n("p",{staticClass:"mb-4 text-lg text-semi"},[t._v("账 号")]),n("div",{staticClass:"mb-4 flex"},[n("img",{staticClass:"mr-8 base-shadow rounded-lg",attrs:{width:"100px",alt:"avatar",src:t.detail.avatar_url}}),n("div",{staticClass:"w-full flex"},[n("div",{staticClass:"flex-1"},[n("table",[n("tr",[n("td",{staticClass:"text-semi"},[t._v("管理员账号")]),n("td",{staticClass:"text-gray"},[t._v(t._s(t.detail.account))])]),n("tr",[n("td",{staticClass:"text-semi"},[t._v("昵 称")]),n("td",{staticClass:"text-gray"},[t._v(t._s(t.detail.nickname))])]),n("tr",[n("td",{staticClass:"text-semi"},[t._v("真实姓名")]),n("td",{staticClass:"text-gray"},[t._v(t._s(t.detail.real_name||"未填写"))])])])]),n("div",{staticClass:"flex-1"},[n("table",[n("tr",[n("td",{staticClass:"text-semi"},[t._v("电子邮箱")]),n("td",{staticClass:"text-gray"},[t._v(t._s(t.detail.email||"未填写"))])]),n("tr",[n("td",{staticClass:"text-semi"},[t._v("性 别")]),n("td",{staticClass:"text-gray"},[t._v(t._s(1===t.detail.gender?"女":"男"))])]),n("tr",[n("td",{staticClass:"text-semi"},[t._v("状 态")]),n("td",{staticClass:"text-gray"},[t._v(t._s("正常"))])])])])]),n("div")]),n("div",{staticClass:"flex justify-end"},[n("vs-button",{attrs:{icon:"el-icon-edit","icon-pack":"el-icon"},on:{click:function(e){return t.editAdmin()}}},[t._v("编 辑")])],1)]),n("div",{staticClass:"permission p-5 light-shadow bg-semi rounded-lg"},[n("p",{staticClass:"text-lg text-semi"},[t._v("权 限")]),n("vs-divider"),n("EditPermission",{attrs:{permissions:t.detail.permissions}})],1)])},[],!1,null,"2b1e69b9",null);e.default=c.exports},"7bbc":function(t,e,n){var r=n("6821"),i=n("9093").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},"86df":function(t,e,n){},"8a81":function(t,e,n){"use strict";var r=n("7726"),i=n("69a8"),o=n("9e1e"),a=n("5ca1"),s=n("2aba"),c=n("67ab").KEY,u=n("79e5"),f=n("5537"),l=n("7f20"),d=n("ca5a"),p=n("2b4c"),m=n("37c8"),v=n("3a72"),b=n("d4c0"),h=n("1169"),y=n("cb7c"),g=n("d3f4"),w=n("4bf8"),_=n("6821"),S=n("6a99"),x=n("4630"),O=n("2aeb"),C=n("7bbc"),E=n("11e9"),j=n("2621"),A=n("86cc"),k=n("0d58"),P=E.f,D=A.f,I=C.f,$=r.Symbol,F=r.JSON,N=F&&F.stringify,J=p("_hidden"),R=p("toPrimitive"),W={}.propertyIsEnumerable,M=f("symbol-registry"),T=f("symbols"),K=f("op-symbols"),q=Object.prototype,B="function"==typeof $&&!!j.f,V=r.QObject,Y=!V||!V.prototype||!V.prototype.findChild,z=o&&u(function(){return 7!=O(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=P(q,e);r&&delete q[e],D(t,e,n),r&&t!==q&&D(q,e,r)}:D,G=function(t){var e=T[t]=O($.prototype);return e._k=t,e},Q=B&&"symbol"==typeof $.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof $},U=function(t,e,n){return t===q&&U(K,e,n),y(t),e=S(e,!0),y(n),i(T,e)?(n.enumerable?(i(t,J)&&t[J][e]&&(t[J][e]=!1),n=O(n,{enumerable:x(0,!1)})):(i(t,J)||D(t,J,x(1,{})),t[J][e]=!0),z(t,e,n)):D(t,e,n)},H=function(t,e){y(t);for(var n,r=b(e=_(e)),i=0,o=r.length;o>i;)U(t,n=r[i++],e[n]);return t},L=function(t){var e=W.call(this,t=S(t,!0));return!(this===q&&i(T,t)&&!i(K,t))&&(!(e||!i(this,t)||!i(T,t)||i(this,J)&&this[J][t])||e)},X=function(t,e){if(t=_(t),e=S(e,!0),t!==q||!i(T,e)||i(K,e)){var n=P(t,e);return!n||!i(T,e)||i(t,J)&&t[J][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=I(_(t)),r=[],o=0;n.length>o;)i(T,e=n[o++])||e==J||e==c||r.push(e);return r},tt=function(t){for(var e,n=t===q,r=I(n?K:_(t)),o=[],a=0;r.length>a;)!i(T,e=r[a++])||n&&!i(q,e)||o.push(T[e]);return o};B||(s(($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===q&&e.call(K,n),i(this,J)&&i(this[J],t)&&(this[J][t]=!1),z(this,t,x(1,n))};return o&&Y&&z(q,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",function(){return this._k}),E.f=X,A.f=U,n("9093").f=C.f=Z,n("52a7").f=L,j.f=tt,o&&!n("2d00")&&s(q,"propertyIsEnumerable",L,!0),m.f=function(t){return G(p(t))}),a(a.G+a.W+a.F*!B,{Symbol:$});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var rt=k(p.store),it=0;rt.length>it;)v(rt[it++]);a(a.S+a.F*!B,"Symbol",{for:function(t){return i(M,t+="")?M[t]:M[t]=$(t)},keyFor:function(t){if(!Q(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!B,"Object",{create:function(t,e){return void 0===e?O(t):H(O(t),e)},defineProperty:U,defineProperties:H,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:tt});var ot=u(function(){j.f(1)});a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return j.f(w(t))}}),F&&a(a.S+a.F*(!B||u(function(){var t=$();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(g(e)||void 0!==t)&&!Q(t))return h(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Q(e))return e}),r[1]=e,N.apply(F,r)}}),$.prototype[R]||n("32e9")($.prototype,R,$.prototype.valueOf),l($,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},"9e95":function(t,e,n){"use strict";var r=n("86df");n.n(r).a},ac4d:function(t,e,n){n("3a72")("asyncIterator")},d4c0:function(t,e,n){var r=n("0d58"),i=n("2621"),o=n("52a7");t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),c=o.f,u=0;s.length>u;)c.call(t,a=s[u++])&&e.push(a);return e}}}]);