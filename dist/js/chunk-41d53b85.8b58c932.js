(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41d53b85"],{4127:function(e,t,r){"use strict";var i=r("d233"),n=r("b313"),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Array.isArray,l=Array.prototype.push,c=function(e,t){l.apply(e,o(t)?t:[t])},d=Date.prototype.toISOString,u=n["default"],f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:u,formatter:n.formatters[u],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},p=function(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e||"symbol"===typeof e||"bigint"===typeof e},v=function e(t,r,n,s,a,l,d,u,v,m,y,h,b){var g=t;if("function"===typeof d?g=d(r,g):g instanceof Date?g=m(g):"comma"===n&&o(g)&&(g=g.join(",")),null===g){if(s)return l&&!h?l(r,f.encoder,b,"key"):r;g=""}if(p(g)||i.isBuffer(g)){if(l){var _=h?r:l(r,f.encoder,b,"key");return[y(_)+"="+y(l(g,f.encoder,b,"value"))]}return[y(r)+"="+y(String(g))]}var O,C=[];if("undefined"===typeof g)return C;if(o(d))O=d;else{var j=Object.keys(g);O=u?j.sort(u):j}for(var w=0;w<O.length;++w){var x=O[w];a&&null===g[x]||(o(g)?c(C,e(g[x],"function"===typeof n?n(r,x):r,n,s,a,l,d,u,v,m,y,h,b)):c(C,e(g[x],r+(v?"."+x:"["+x+"]"),n,s,a,l,d,u,v,m,y,h,b)))}return C},m=function(e){if(!e)return f;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=n["default"];if("undefined"!==typeof e.format){if(!s.call(n.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=n.formatters[r],a=f.filter;return("function"===typeof e.filter||o(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?f.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?f.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:f.encode,encoder:"function"===typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:a,formatter:i,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}};e.exports=function(e,t){var r,i,n=e,s=m(t);"function"===typeof s.filter?(i=s.filter,n=i("",n)):o(s.filter)&&(i=s.filter,r=i);var l,d=[];if("object"!==typeof n||null===n)return"";l=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var u=a[l];r||(r=Object.keys(n)),s.sort&&r.sort(s.sort);for(var f=0;f<r.length;++f){var p=r[f];s.skipNulls&&null===n[p]||c(d,v(n[p],p,u,s.strictNullHandling,s.skipNulls,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.formatter,s.encodeValuesOnly,s.charset))}var y=d.join(s.delimiter),h=!0===s.addQueryPrefix?"?":"";return s.charsetSentinel&&("iso-8859-1"===s.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),y.length>0?h+y:""}},4328:function(e,t,r){"use strict";var i=r("4127"),n=r("9e6a"),s=r("b313");e.exports={formats:s,parse:n,stringify:i}},"5a4f":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"vs-con-loading__container",attrs:{id:"div-with-loading"}},[r("div",[r("div",{staticClass:"card flex items-center"},[r("div",{staticClass:"text-sm"},[r("p",{staticClass:"mr-3"},[e._v("\n          订单号：\n          "),r("span",{staticClass:"text-gray-500"},[e._v(e._s(e.subOrder._id))])]),r("div",{staticClass:"p-6 flex-col-center text-2xl font-bold",class:e.status[e.subOrder.status].color},[r("feather",{staticClass:"ml-1 mb-1",attrs:{size:"30",type:e.status[e.subOrder.status].icon}}),e._v("\n          "+e._s(e.status[e.subOrder.status].text)+"\n        ")],1)]),r("div",{staticClass:"flex-1"},[r("OrderStep",{attrs:{"steps-data":e.stepsData}})],1)]),r("div",{staticClass:"card"},[r("div",{staticClass:"card-header mb-2"},[e._v("购物清单")]),r("div",{staticClass:"flex"},[r("OrderGoodsList",{staticClass:"w-2/3",attrs:{"goods-list":e.goodsList}}),r("VuePerfectScrollbar",{staticClass:"w-1/3 px-2",staticStyle:{height:"300px"},attrs:{settings:{maxScrollbarLength:160,wheelSpeed:.6}}},[r("el-timeline",{attrs:{reverse:!0}},e._l(e.logistics,function(t,i){return r("el-timeline-item",{key:i,attrs:{type:3===i?"primary":"",timestamp:t.timestamp}},[e._v("\n              "+e._s(t.content)+"\n            ")])}),1)],1)],1)]),r("div",{staticClass:"card"},[e._m(0),r("vs-divider"),r("div",[r("div",{staticClass:"order-info"},[r("div",{staticClass:"order-info__col"},[r("div",{staticClass:"info__item"},[r("div",{staticClass:"label"},[e._v("收货人")]),r("div",{staticClass:"value"},[e._v(e._s(e.address.receiver))])]),r("div",{staticClass:"info__item"},[r("div",{staticClass:"label"},[e._v("联系电话")]),r("div",{staticClass:"value"},[e._v(e._s(e.address.phone))])]),r("div",{staticClass:"info__item"},[r("div",{staticClass:"label"},[e._v("收货地址")]),r("div",{staticClass:"value"},[e._v(e._s(e.address.address))])])]),r("div",{staticClass:"order-info__col"},[r("div",{staticClass:"info__item"},[r("div",{staticClass:"label"},[e._v("配送方式")]),e.subOrder.goods_list?r("div",{staticClass:"value"},[e._v(e._s(e.delivery[e.subOrder.goods_list[0].goods.delivery]))]):e._e()]),r("div",{staticClass:"info__item"},[r("div",{staticClass:"label"},[e._v("运费")]),r("div",{staticClass:"value"},[e._v("￥"+e._s(Number(e.subOrder.delivery_charge).toFixed(2)))])])]),r("div",{staticClass:"order-info__col"},[r("div",{staticClass:"info__item"},[r("div",{staticClass:"label"},[e._v("支付方式")]),r("div",{staticClass:"value"},[e._v(e._s(e.payment[e.detail.payment]))])]),r("div",{staticClass:"info__item"},[r("div",{staticClass:"label"},[e._v("支付时间")]),r("div",{staticClass:"value"},[e._v("\n                "+e._s(e.$dayjs(e.subOrder.created_at).format("YYYY-MM-DD HH:mm:ss"))+"\n              ")])]),r("div",{staticClass:"info__item"},[r("div",{staticClass:"label"},[e._v("商品总额")]),r("div",{staticClass:"value"},[e._v("\n                ￥"+e._s(Number(e.subOrder.total_price).toFixed(2))+"\n              ")])]),r("div",{staticClass:"info__item"},[r("div",{staticClass:"label"},[e._v("应付金额")]),r("div",{staticClass:"value"},[e._v("\n                ￥"+e._s(Number(e.subOrder.actual_price).toFixed(2))+"\n              ")])])])])])],1)])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-header"},[r("p",[e._v("交易信息")])])}],s=r("75fc"),a=(r("a481"),r("96cf"),r("3b8d")),o=r("9d63"),l=r.n(o),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-steps",{attrs:{"align-center":"",active:e.stepsData.active}},e._l(e.stepsData.steps,function(t,i){return r("el-step",{key:i,attrs:{title:t.title}},[r("div",{attrs:{slot:"description"},slot:"description"},[e._v(e._s(t.description))])])}),1)},d=[],u={name:"OrderStep",props:{stepsData:{type:Object,required:!0}}},f=u,p=r("2877"),v=Object(p["a"])(f,c,d,!1,null,null,null),m=v.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("vs-table",{staticClass:"bg-white",attrs:{noDataText:"暂无数据",data:e.goodsList},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.data;return e._l(i,function(t,i){return r("vs-tr",{key:i},[r("vs-td",[r("el-image",{staticClass:"w-20 h-20 rounded-lg base-shadow",attrs:{fit:"contain",src:t.goods.img_list[0]+"?imageView2/2/w/100"}})],1),r("vs-td",[e._v(e._s(t.goods.name))]),r("vs-td",[e._v("1")]),r("vs-td",[e._v("￥"+e._s(t.goods.price))])],1)})}}])},[r("template",{slot:"thead"},[r("vs-th",[e._v("#")]),r("vs-th",[e._v("商品名称")]),r("vs-th",[e._v("数量")]),r("vs-th",[e._v("价格")])],1)],2)},h=[],b={name:"OrderGoodsList",props:{goodsList:{type:Array,required:!0}}},g=b,_=Object(p["a"])(g,y,h,!1,null,null,null),O=_.exports,C=r("7059"),j={undefined:"未定义",1:"包邮",2:"自费",3:"自提"},w={undefined:{text:"Undefined",color:"danger",icon:"alert-circle"},1:{text:"进行中",color:"primary",icon:"loader"},2:{text:"已完成",color:"success",icon:"check-circle"},3:{text:"派送中",color:"warning",icon:"truck"},4:{text:"已取消",color:"danger",icon:"alert-circle"}},x={huabei:"余额支付",weixin:"微信支付",zhifubao:"支付宝支付",yinlian:"银行卡支付"},D=[{timestamp:"2018-04-12 14:46",content:"您提交了订单，请等待系统确认"},{timestamp:"2018-04-15 20:50",content:"温馨提示：该订单为赠品/换购商品订单，为方便您收货，会随主品订单一起发货，请您耐心等待"},{timestamp:"2018-04-16 08:50",content:"您的订单正在配送途中（快递员：李易，电话：18680649330），请您耐心等待。"},{timestamp:"2018-04-16 08:50",content:"您的订单已由物业代收。如有疑问您可以联系配送员【李易，18680649330】确认。感谢您在京东购物，欢迎再次光临。"}],S={name:"OrderDetail",components:{VuePerfectScrollbar:l.a,OrderStep:m,OrderGoodsList:O},data:function(){return{delivery:j,status:w,payment:x,logistics:D,detail:{},address:{},subOrder:{},goodsList:[],stepsData:{}}},mounted:function(){var e=this.$route.query,t=e.orderId,r=e.subId;this.getOrderDetail(t,r)},methods:{getOrderDetail:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,r){var i,n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$vs.loading({container:"#div-with-loading",scale:1}),e.prev=1,e.next=4,Object(C["a"])({order_id:t,sub_id:r});case 4:i=e.sent,n=i.code,s=i.data.order_detail,2e3===n&&(s?(this.detail=s,this.address=s.address,this.subOrder=s.sub_order,this.goodsList=s.sub_order.goods_list,this.initStepsData()):this.$router.replace("/not-found"));case 8:return e.prev=8,this.$vs.loading.close("#div-with-loading > .con-vs-loading"),e.finish(8);case 11:case"end":return e.stop()}},e,this,[[1,,8,11]])}));function t(t,r){return e.apply(this,arguments)}return t}(),initStepsData:function(){var e={1:2,2:4,3:3,4:4},t=this.subOrder,r=t.createdAt,i=t.status,n=this.$dayjs(r).format("YYYY-MM-DD HH:mm"),a=[];2===i&&(a=[{title:"订单已完成",description:n}]),4===i&&(a=[{title:"订单已取消",description:n}]);var o=[{title:"创建订单",description:n},{title:"支付成功",description:n},{title:"等待收货",description:""}].concat(Object(s["a"])(a));this.stepsData={active:e[i],steps:o}}}},N=S,k=(r("b9ba"),Object(p["a"])(N,i,n,!1,null,"2ca58428",null));t["default"]=k.exports},7059:function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"c",function(){return o}),r.d(t,"a",function(){return l}),r.d(t,"e",function(){return c}),r.d(t,"f",function(){return d}),r.d(t,"d",function(){return u});var i=r("4328"),n=r.n(i),s=r("284b");function a(e){return Object(s["a"])({url:"/order/list",method:"get",params:e})}function o(e){return Object(s["a"])({url:"/order/list_by_date_range",method:"get",params:e,paramsSerializer:function(e){return n.a.stringify(e,{indices:!1})}})}function l(e){return Object(s["a"])({url:"/order/detail",method:"get",params:e})}function c(){return Object(s["a"])({url:"/order/transaction",method:"get"})}function d(){return Object(s["a"])({url:"/order/volume",method:"get"})}function u(){return Object(s["a"])({url:"/order/num",method:"get"})}},"8b1e":function(e,t,r){},"9e6a":function(e,t,r){"use strict";var i=r("d233"),n=Object.prototype.hasOwnProperty,s=Array.isArray,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},o=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},l="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",d=function(e,t){var r,d={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,p=u.split(t.delimiter,f),v=-1,m=t.charset;if(t.charsetSentinel)for(r=0;r<p.length;++r)0===p[r].indexOf("utf8=")&&(p[r]===c?m="utf-8":p[r]===l&&(m="iso-8859-1"),v=r,r=p.length);for(r=0;r<p.length;++r)if(r!==v){var y,h,b=p[r],g=b.indexOf("]="),_=-1===g?b.indexOf("="):g+1;-1===_?(y=t.decoder(b,a.decoder,m,"key"),h=t.strictNullHandling?null:""):(y=t.decoder(b.slice(0,_),a.decoder,m,"key"),h=t.decoder(b.slice(_+1),a.decoder,m,"value")),h&&t.interpretNumericEntities&&"iso-8859-1"===m&&(h=o(h)),h&&"string"===typeof h&&t.comma&&h.indexOf(",")>-1&&(h=h.split(",")),b.indexOf("[]=")>-1&&(h=s(h)?[h]:h),n.call(d,y)?d[y]=i.combine(d[y],h):d[y]=h}return d},u=function(e,t,r){for(var i=t,n=e.length-1;n>=0;--n){var s,a=e[n];if("[]"===a&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var o="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(o,10);r.parseArrays||""!==o?!isNaN(l)&&a!==o&&String(l)===o&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(s=[],s[l]=i):s[o]=i:s={0:i}}i=s}return i},f=function(e,t,r){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,o=r.depth>0&&s.exec(i),l=o?i.slice(0,o.index):i,c=[];if(l){if(!r.plainObjects&&n.call(Object.prototype,l)&&!r.allowPrototypes)return;c.push(l)}var d=0;while(r.depth>0&&null!==(o=a.exec(i))&&d<r.depth){if(d+=1,!r.plainObjects&&n.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(o[1])}return o&&c.push("["+i.slice(o.index)+"]"),u(c,t,r)}},p=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?a.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:a.comma,decoder:"function"===typeof e.decoder?e.decoder:a.decoder,delimiter:"string"===typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}};e.exports=function(e,t){var r=p(t);if(""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var n="string"===typeof e?d(e,r):e,s=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var l=a[o],c=f(l,n[l],r);s=i.merge(s,c,r)}return i.compact(s)}},b313:function(e,t,r){"use strict";var i=String.prototype.replace,n=/%20/g,s=r("d233"),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=s.assign({default:a.RFC3986,formatters:{RFC1738:function(e){return i.call(e,n,"+")},RFC3986:function(e){return String(e)}}},a)},b9ba:function(e,t,r){"use strict";var i=r("8b1e"),n=r.n(i);n.a},d233:function(e,t,r){"use strict";var i=Object.prototype.hasOwnProperty,n=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){while(e.length>1){var t=e.pop(),r=t.obj[t.prop];if(n(r)){for(var i=[],s=0;s<r.length;++s)"undefined"!==typeof r[s]&&i.push(r[s]);t.obj[t.prop]=i}}},o=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)"undefined"!==typeof e[i]&&(r[i]=e[i]);return r},l=function e(t,r,s){if(!r)return t;if("object"!==typeof r){if(n(t))t.push(r);else{if(!t||"object"!==typeof t)return[t,r];(s&&(s.plainObjects||s.allowPrototypes)||!i.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(r);var a=t;return n(t)&&!n(r)&&(a=o(t,s)),n(t)&&n(r)?(r.forEach(function(r,n){if(i.call(t,n)){var a=t[n];a&&"object"===typeof a&&r&&"object"===typeof r?t[n]=e(a,r,s):t.push(r)}else t[n]=r}),t):Object.keys(r).reduce(function(t,n){var a=r[n];return i.call(t,n)?t[n]=e(t[n],a,s):t[n]=a,t},a)},c=function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},d=function(e,t,r){var i=e.replace(/\+/g," ");if("iso-8859-1"===r)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(n){return i}},u=function(e,t,r){if(0===e.length)return e;var i=e;if("symbol"===typeof e?i=Symbol.prototype.toString.call(e):"string"!==typeof e&&(i=String(e)),"iso-8859-1"===r)return escape(i).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var n="",a=0;a<i.length;++a){var o=i.charCodeAt(a);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=i.charAt(a):o<128?n+=s[o]:o<2048?n+=s[192|o>>6]+s[128|63&o]:o<55296||o>=57344?n+=s[224|o>>12]+s[128|o>>6&63]+s[128|63&o]:(a+=1,o=65536+((1023&o)<<10|1023&i.charCodeAt(a)),n+=s[240|o>>18]+s[128|o>>12&63]+s[128|o>>6&63]+s[128|63&o])}return n},f=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var n=t[i],s=n.obj[n.prop],o=Object.keys(s),l=0;l<o.length;++l){var c=o[l],d=s[c];"object"===typeof d&&null!==d&&-1===r.indexOf(d)&&(t.push({obj:s,prop:c}),r.push(d))}return a(t),e},p=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},v=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},m=function(e,t){return[].concat(e,t)};e.exports={arrayToObject:o,assign:c,combine:m,compact:f,decode:d,encode:u,isBuffer:v,isRegExp:p,merge:l}}}]);
//# sourceMappingURL=chunk-41d53b85.8b58c932.js.map