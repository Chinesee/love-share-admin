{"version":3,"sources":["webpack:///./src/views/website/Billboard.vue?fac6","webpack:///./src/request/api/billboard.js","webpack:///src/views/website/Billboard.vue","webpack:///./src/views/website/Billboard.vue?3f64","webpack:///./src/views/website/Billboard.vue","webpack:///./src/views/website/Billboard.vue?c03c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","arrow","autoplay","_l","it","i","key","fit","src","url","id","staticStyle","width","preview-src-list","_v","_s","$dayjs","created_at","format","on","click","$event","deleteBillboard","size","stroke-width","type","ref","multiple","action","text","fileName","accept","limit","headers","on-success","successUpload","staticRenderFns","getBillboardList","request","method","data","Billboardvue_type_script_lang_js_","name","billboardList","Authorization","concat","Object","token","created","methods","_getBillboardList2","asyncToGenerator","regeneratorRuntime","mark","_callee","_ref","code","billboard_list","wrap","_context","prev","next","billboard_getBillboardList","sent","stop","apply","arguments","_deleteBillboard2","_callee2","_ref2","_context2","$vs","loading","container","scale","billboard_deleteBillboard","close","finish","_x","_x2","website_Billboardvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Billboard_vue_vue_type_style_index_0_id_eb929824_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Billboard_vue_vue_type_style_index_0_id_eb929824_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-64c42366.2a0a93bb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pt-10 flex\"},[_c('div',{staticClass:\"w-1/2\"},[_c('el-carousel',{staticClass:\"mb-6 radius\",attrs:{\"arrow\":\"always\",\"autoplay\":false}},_vm._l((_vm.billboardList),function(it,i){return _c('el-carousel-item',{key:i},[_c('el-image',{staticClass:\"h-full\",attrs:{\"fit\":\"cover\",\"src\":it.url}})],1)}),1),_c('ul',_vm._l((_vm.billboardList),function(it,i){return _c('li',{key:i,staticClass:\"billboard-item relative mb-4 p-3 flex radius bg-gray overflow-hidden\\n           vs-con-loading__container\",attrs:{\"id\":(\"billboard-item-\" + i)}},[_c('el-image',{staticClass:\"h-full mr-3 rounded-lg\",staticStyle:{\"width\":\"150px\"},attrs:{\"src\":((it.url) + \"?imageView2/2/w/200\"),\"preview-src-list\":[it.url]}}),_c('div',{staticClass:\"text-sm\"},[_c('div',{staticClass:\"w-64 text-semi break-words break-all truncate\"},[_vm._v(\"URL：\"+_vm._s(it.url))]),_c('div',{staticClass:\"text-semi\"},[_vm._v(\"上传时间：\"+_vm._s(_vm.$dayjs(it.created_at).format('YYYY-MM-DD')))])]),_c('div',{staticClass:\"close-icon absolute flex-row-center text-primary cursor-pointer\",on:{\"click\":function($event){return _vm.deleteBillboard(it.url, i)}}},[_c('feather',{attrs:{\"size\":\"20\",\"stroke-width\":\"2.5\",\"type\":\"x\"}})],1)],1)}),0)],1),_c('div',{staticClass:\"w-1/2 pl-8\"},[_c('vs-upload',{ref:\"fileUpload\",attrs:{\"multiple\":\"\",\"action\":\"/api/billboard/upload\",\"text\":\"图片上传（JPG、PNG）\",\"fileName\":\"billboard\",\"accept\":\"image/jpeg,image/jpg,image/png\",\"limit\":6,\"headers\":_vm.headers},on:{\"on-success\":_vm.successUpload}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '../request'\n\nexport function getBillboardList() {\n  return request({\n    url: '/billboard/list',\n    method: 'get',\n  })\n}\n\nexport function deleteBillboard(data) {\n  return request({\n    url: '/billboard/delete',\n    method: 'delete',\n    data,\n  })\n}\n","<template>\n  <div class=\"pt-10 flex\">\n    <div class=\"w-1/2\">\n      <el-carousel\n        class=\"mb-6 radius\"\n        arrow=\"always\"\n        :autoplay=\"false\"\n      >\n        <el-carousel-item\n          v-for=\"(it, i) in billboardList\"\n          :key=\"i\"\n        >\n          <el-image\n            class=\"h-full\"\n            fit=\"cover\"\n            :src=\"it.url\"\n          ></el-image>\n        </el-carousel-item>\n      </el-carousel>\n\n      <ul>\n        <li\n          class=\"billboard-item relative mb-4 p-3 flex radius bg-gray overflow-hidden\n             vs-con-loading__container\"\n          v-for=\"(it, i) in billboardList\"\n          :key=\"i\"\n          :id=\"`billboard-item-${i}`\"\n        >\n          <el-image\n            class=\"h-full mr-3 rounded-lg\"\n            style=\"width: 150px;\"\n            :src=\"`${it.url}?imageView2/2/w/200`\"\n            :preview-src-list=\"[it.url]\"\n          >\n          </el-image>\n          <div class=\"text-sm\">\n            <div class=\"w-64 text-semi break-words break-all truncate\">URL：{{ it.url }}</div>\n            <div class=\"text-semi\">上传时间：{{ $dayjs(it.created_at).format('YYYY-MM-DD') }}</div>\n          </div>\n          <div\n            class=\"close-icon absolute flex-row-center text-primary cursor-pointer\"\n            @click=\"deleteBillboard(it.url, i)\"\n          >\n            <feather\n              size=\"20\"\n              stroke-width=\"2.5\"\n              type=\"x\"\n            ></feather>\n          </div>\n        </li>\n      </ul>\n    </div>\n\n    <div class=\"w-1/2 pl-8\">\n      <vs-upload\n        multiple\n        ref=\"fileUpload\"\n        action=\"/api/billboard/upload\"\n        text=\"图片上传（JPG、PNG）\"\n        fileName=\"billboard\"\n        accept=\"image/jpeg,image/jpg,image/png\"\n        :limit=\"6\"\n        :headers=\"headers\"\n        @on-success=\"successUpload\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getToken } from '@/permission/token'\n\nimport { getBillboardList, deleteBillboard } from '@/request/api/billboard'\n\nexport default {\n  name: 'Billboard',\n  data: () => ({\n    billboardList: [],\n    headers: {\n      Authorization: `Bearer ${getToken()}`,\n    },\n  }),\n\n  created() {\n    this.getBillboardList()\n  },\n\n  methods: {\n    async getBillboardList() {\n      const { code, data: { billboard_list } } = await getBillboardList()\n      if (code === 2000) {\n        this.billboardList = billboard_list\n      }\n    },\n\n    async deleteBillboard(url, i) {\n      this.$vs.loading({\n        container: `#billboard-item-${i}`,\n        scale: 1,\n      })\n\n      try {\n        const { code } = await deleteBillboard({ url })\n        if (code === 2000) {\n          this.getBillboardList()\n        }\n      } finally {\n        this.$vs.loading.close(`#billboard-item-${i} > .con-vs-loading`)\n      }\n    },\n\n    successUpload() {\n      this.getBillboardList()\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.con-upload::v-deep {\n  .con-img-upload {\n    background: none;\n  }\n}\n\n.billboard-item {\n  .close-icon {\n    top: 0.75rem;\n    right: -50px;\n    width: 1.8rem;\n    height: 1.8rem;\n    border-radius: 0.35rem;\n    background: rgba(186, 187, 192, 0.2);\n    transition: all 0.2s;\n    opacity: 0;\n    &:hover {\n      border-radius: 50%;\n      color: white;\n      background: rgba(var(--vs-danger), 0.8);\n    }\n  }\n  &:hover {\n    .close-icon {\n      right: 0.75rem;\n      opacity: 1;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Billboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Billboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Billboard.vue?vue&type=template&id=eb929824&scoped=true&\"\nimport script from \"./Billboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Billboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Billboard.vue?vue&type=style&index=0&id=eb929824&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eb929824\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Billboard.vue?vue&type=style&index=0&id=eb929824&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Billboard.vue?vue&type=style&index=0&id=eb929824&lang=scss&scoped=true&\""],"sourceRoot":""}