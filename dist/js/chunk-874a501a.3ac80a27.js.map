{"version":3,"sources":["webpack:///./src/views/sign/SignUp.vue?0bb6","webpack:///src/views/sign/SignUp.vue","webpack:///./src/views/sign/SignUp.vue?24e5","webpack:///./src/views/sign/SignUp.vue","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./src/views/sign/SignUp.vue?291e"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","hidden-background","position-right","model","value","callback","$$v","active","expression","_v","type","on","click","$event","$emit","settings","maxScrollbarLength","wheelSpeed","_l","it","i","key","val-icon-warning","label-placeholder","placeholder","warning","isWarnng","warning-text","warningText","focus","inputs","keyup","indexOf","_k","keyCode","onSignUp","$set","trim","disabled","btnDisabled","staticRenderFns","SignUpvue_type_script_lang_js_","name","components","VuePerfectScrollbar","dist_default","a","props","isSidebarActive","Boolean","required","data","computed","get","set","length","methods","getPermissions","_this","modules","user","goods","order","comment","guide","admin","purviewTemplate","read","write","create","delete","permissions","Object","keys","map","module","purview","$cloneDeepWith","actions","_ref","filter","_onSignUp","asyncToGenerator","regeneratorRuntime","mark","_callee","payload","_ref2","code","wrap","_context","prev","next","abrupt","account","password","nickname","real_name","avatar_url","email","gender","sent","$vs","notify","time","title","text","color","stop","apply","arguments","sign_SignUpvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","toObject","__webpack_require__","$keys","$export","core","fails","exports","KEY","exec","fn","exp","S","F","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SignUp_vue_vue_type_style_index_0_id_058f40d0_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SignUp_vue_vue_type_style_index_0_id_058f40d0_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-874a501a.3ac80a27.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vs-sidebar',{staticClass:\"sidebarx overflow-hidden\",attrs:{\"hidden-background\":\"\",\"position-right\":\"\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('div',{staticClass:\"mt-6 px-6 flex items-center justify-between text-gray-600\"},[_c('span',{staticClass:\"text-lg font-bold\"},[_vm._v(\"编辑资料\")]),_c('feather',{staticClass:\"cursor-pointer\",attrs:{\"type\":\"x\"},on:{\"click\":function($event){return _vm.$emit('closeSidebar')}}})],1),_c('vs-divider',{staticClass:\"mb-0\"}),_c('VuePerfectScrollbar',{staticClass:\"pt-4 pb-6\",attrs:{\"settings\":{\n        maxScrollbarLength: 180,\n        wheelSpeed: 0.60,\n      }}},[_c('div',{staticClass:\"p-6\"},[_vm._l((_vm.inputs),function(it,i){return _c('vs-input',{key:i,staticClass:\"w-full pb-3\",attrs:{\"val-icon-warning\":\"warning\",\"type\":it.type,\"label-placeholder\":it.placeholder,\"warning\":it.isWarnng,\"warning-text\":it.warningText},on:{\"focus\":function () { _vm.inputs[i].isWarnng = false },\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSignUp()}},model:{value:(it.value),callback:function ($$v) {_vm.$set(it, \"value\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"it.value\"}})}),_c('vs-button',{staticClass:\"w-full mt-3\",attrs:{\"disabled\":!_vm.btnDisabled},on:{\"click\":function($event){return _vm.onSignUp()}}},[_vm._v(\"成为管理员\")])],2)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <vs-sidebar\n      class=\"sidebarx overflow-hidden\"\n      hidden-background\n      position-right\n      v-model=\"active\"\n    >\n      <div class=\"mt-6 px-6 flex items-center justify-between text-gray-600\">\n        <span class=\"text-lg font-bold\">编辑资料</span>\n        <feather\n          class=\"cursor-pointer\"\n          type=\"x\"\n          @click=\"$emit('closeSidebar')\"\n        ></feather>\n      </div>\n      <vs-divider class=\"mb-0\"></vs-divider>\n\n      <VuePerfectScrollbar\n        class=\"pt-4 pb-6\"\n        :settings=\"{\n          maxScrollbarLength: 180,\n          wheelSpeed: 0.60,\n        }\"\n      >\n        <div class=\"p-6\">\n          <vs-input\n            class=\"w-full pb-3\"\n            val-icon-warning=\"warning\"\n            v-for=\"(it, i) in inputs\"\n            :key=\"i\"\n            :type=\"it.type\"\n            :label-placeholder=\"it.placeholder\"\n            :warning=\"it.isWarnng\"\n            :warning-text=\"it.warningText\"\n            v-model.trim=\"it.value\"\n            @focus=\"() => { inputs[i].isWarnng = false }\"\n            @keyup.enter=\"onSignUp()\"\n          />\n          <vs-button\n            class=\"w-full mt-3\"\n            :disabled=\"!btnDisabled\"\n            @click=\"onSignUp()\"\n          >成为管理员</vs-button>\n        </div>\n      </VuePerfectScrollbar>\n    </vs-sidebar>\n  </div>\n</template>\n\n<script>\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\n\nimport { createAdminByInvitation } from '@/request/api/admin'\n\nconst inputs = [\n  {\n    placeholder: '邀请码',\n    value: '',\n    type: 'text',\n    isWarnng: false,\n    warningText: '',\n  },\n  {\n    placeholder: '登入密码',\n    value: '',\n    type: 'password',\n    isWarnng: false,\n    warningText: '',\n  },\n  {\n    placeholder: '再次确认密码',\n    value: '',\n    type: 'password',\n    isWarnng: false,\n    warningText: '',\n  },\n]\nexport default {\n  name: 'SignUp',\n  components: { VuePerfectScrollbar },\n\n  props: {\n    isSidebarActive: {\n      type: Boolean,\n      required: true,\n    },\n  },\n\n  data: () => ({\n    inputs,\n  }),\n\n  computed: {\n    active: {\n      get() {\n        return this.isSidebarActive\n      },\n      set() {},\n    },\n\n    btnDisabled() {\n      return this.inputs[0].value.length > 0\n      && this.inputs[1].value.length > 0\n      && this.inputs[2].value.length > 0\n      && this.inputs[0].value === 'czc12580520'\n      && this.inputs[1].value === this.inputs[2].value\n    },\n  },\n\n  methods: {\n    getPermissions() {\n      const modules = {\n        user: '用户',\n        goods: '商品',\n        order: '订单',\n        comment: '留言',\n        guide: '指引',\n        admin: '管理员',\n      }\n      const purviewTemplate = [{ read: true }, { write: true }, { create: true }, { delete: true }]\n      const permissions = Object.keys(modules).map(key => ({\n        module: key,\n        purview: this.$cloneDeepWith(purviewTemplate),\n      }))\n      const actions = ['read', 'write', 'create', 'delete']\n      return permissions.map(({ module, purview }) => ({\n        module,\n        purview: purview.filter((it, i) => it[actions[i]]).map(it => Object.keys(it)[0]),\n      }))\n    },\n\n    async onSignUp() {\n      if (!this.btnDisabled) return\n\n      const payload = {\n        account: 'czc12580520',\n        password: '123456',\n        nickname: '令狐少侠',\n        real_name: '陈梓聪',\n        avatar_url: 'https://cdn.hrspider.top/default_avatar_male.jpg',\n        email: 'czc12580520@gmail.com',\n        gender: 0,\n        permissions: this.getPermissions(),\n      }\n      const { code } = await createAdminByInvitation(payload)\n      if (code === 2000) {\n        this.$vs.notify({\n          time: 3500,\n          title: '管理员创建成功',\n          text: '现在可以登录系统了',\n          color: 'success',\n        })\n        this.$emit('closeSidebar')\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.sidebarx::v-deep {\n  .vs-sidebar {\n    width: 400px;\n    max-width: 100vw;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignUp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignUp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignUp.vue?vue&type=template&id=058f40d0&scoped=true&\"\nimport script from \"./SignUp.vue?vue&type=script&lang=js&\"\nexport * from \"./SignUp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SignUp.vue?vue&type=style&index=0&id=058f40d0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"058f40d0\",\n  null\n  \n)\n\nexport default component.exports","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignUp.vue?vue&type=style&index=0&id=058f40d0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignUp.vue?vue&type=style&index=0&id=058f40d0&lang=scss&scoped=true&\""],"sourceRoot":""}