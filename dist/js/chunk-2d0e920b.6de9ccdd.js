(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e920b"],{"8be0":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-6 p-6 base-shadow bg-semi radius vs-con-loading__container",attrs:{id:"main"}},[s("div",{staticClass:"mb-6 flex items-center"},[s("div",{staticClass:"pr-10 flex flex-col items-center justify-center"},[s("EditAvatar",{ref:"editAvatar"})],1),s("div",{staticClass:"flex-1"},[s("div",{staticClass:"flex"},[s("div",{staticClass:"w-1/2 pr-4"},[s("EditForm",{ref:"editForm"})],1),s("div",{staticClass:"w-1/2 pl-4"},[s("EditPassword",{ref:"editPassword"})],1)])])]),s("div",{staticClass:"mb-5 p-5 radius"},[s("div",{staticClass:"flex items-center justify-between"},[s("p",{staticClass:"text-lg text-semi"},[t._v("权 限")]),s("div",[s("vs-switch",{model:{value:t.allSelected,callback:function(e){t.allSelected=e},expression:"allSelected"}},[s("span",{attrs:{slot:"on"},slot:"on"},[t._v("全选")]),s("span",{attrs:{slot:"off"},slot:"off"},[t._v("全选")])])],1)]),s("vs-divider"),s("EditPermission",{ref:"editPermissions",attrs:{"all-selected":t.allSelected,editable:!0}})],1),s("div",{staticClass:"flex justify-end"},[s("vs-button",{on:{click:function(e){return t.onCreate()}}},[t._v("信息无误，确认创建")])],1)])},a=[],r=(s("96cf"),s("3b8d")),n=s("b0e1"),l=s("3bda"),o=s("bb2a"),c=s("4411"),d=s("518e"),v={name:"AdminCreate",components:{EditAvatar:n["a"],EditForm:l["a"],EditPassword:o["a"],EditPermission:c["a"]},data:function(){return{allSelected:!1}},methods:{onCreate:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,s,i,a,r,n,l,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$refs,s=e.editAvatar,i=e.editForm,a=e.editPassword,r=e.editPermissions,!i.submit()||!a.submit()){t.next=19;break}return this.$vs.loading({container:"#main",scale:1}),n=r.getPermissions(),l=Object.assign(i.form,a.form,{avatar_url:s.avatarUrl},{gender:s.selectedGender},{permissions:n}),t.prev=5,t.next=8,Object(d["b"])(l);case 8:o=t.sent,c=o.code,2e3===c?this.$router.push("/admin-list"):4002===c?this.$vs.notify({time:3e3,title:"创建失败",text:"昵称已存在，请重新填写",color:"warning"}):4003===c&&this.$vs.notify({time:3e3,title:"创建失败",text:"账号已存在，请直接登录",color:"warning"}),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](5),this.$vs.notify({time:3e3,title:"创建失败",text:t.t0,color:"danger"});case 16:return t.prev=16,this.$vs.loading.close("#main > .con-vs-loading"),t.finish(16);case 19:case"end":return t.stop()}},t,this,[[5,13,16,19]])}));function e(){return t.apply(this,arguments)}return e}()}},u=v,f=s("2877"),m=Object(f["a"])(u,i,a,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0e920b.6de9ccdd.js.map